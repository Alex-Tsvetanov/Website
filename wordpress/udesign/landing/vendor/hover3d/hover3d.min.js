!function(e){e.fn.hover3d=function(s){var t=e.extend({selector:null,perspective:1e3,sensitivity:20,invert:!1,shine:!1,hoverInClass:"hover-in",hoverOutClass:"hover-out",hoverClass:"hover-3d"},s);return this.each((function(){var s=e(this),r=s.find(t.selector);t.shine&&r.append('<div class="shine"></div>');var n=e(this).find(".shine");s.css({perspective:t.perspective+"px",transformStyle:"preserve-3d"}),r.css({perspective:t.perspective+"px",transformStyle:"preserve-3d"}),n.css({position:"absolute",top:0,left:0,bottom:0,right:0,"z-index":9}),s.on("mouseenter",(function(){return r.addClass(t.hoverInClass+" "+t.hoverClass),void setTimeout((function(){r.removeClass(t.hoverInClass)}),1e3)})),s.on("mousemove",(function(e){return function(e){var o=s.innerWidth(),i=s.innerHeight(),a=t.invert?(o/2-e.offsetX)/t.sensitivity:-(o/2-e.offsetX)/t.sensitivity,v=t.invert?-(i/2-e.offsetY)/t.sensitivity:(i/2-e.offsetY)/t.sensitivity;dy=e.offsetY-i/2,dx=e.offsetX-o/2,theta=Math.atan2(dy,dx),angle=180*theta/Math.PI-90,angle<0&&(angle+=360),r.css({perspective:t.perspective+"px",transformStyle:"preserve-3d",transform:"rotateY("+a+"deg) rotateX("+v+"deg)"}),n.css("background","linear-gradient("+angle+"deg, rgba(255,255,255,"+e.offsetY/i*.5+") 0%,rgba(255,255,255,0) 80%)")}(e)})),s.on("mouseleave",(function(){return r.addClass(t.hoverOutClass+" "+t.hoverClass),r.css({perspective:t.perspective+"px",transformStyle:"preserve-3d",transform:"rotateX(0) rotateY(0)"}),void setTimeout((function(){r.removeClass(t.hoverOutClass+" "+t.hoverClass)}),1e3)}))}))}}(jQuery);